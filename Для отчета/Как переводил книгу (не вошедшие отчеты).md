# 2023.06.09

- Перенос 6 глав учебника в хранилище (необходима редактура)
	- Удалил ручной перенос
- Написания скрипта для того, чтобы не нужно было вручную редактировать
- [[Скрипт для переноса Learn You a Haskell for Great Good]]
- Перенос со скриптом всех глав и проверка. Разбиение глав на отдельные файлы
- Перенос учебника (Learn You a Haskell for Great Good!) в хранилище с редактурой:
	- [[Курсы/Learn You a Haskell for Great Good!/README]]
- Книга (Learn You a Haskell for Great Good!) полностью перенесена с помощью скрипта (но всё равно ручками)

---
# 2023.06.11

- Сохранение всех картинок в хранилище
	- Сначала пытался вручную (штук 10)
	- Потом использовал плагин [KellyC Image Downloader](https://chrome.google.com/webstore/detail/kellyc-image-downloader/mbhkdmjolnhcppnkldbdfaomeabjiofm)
- Коррекция цитат
	- Цитаты пропали. Пришлось вручную их сравнивать с оригинальным текстом
- Выбрана программа для перевода книги
	- Использовалась статья для первичного обучения
		- Статья - [OmegaT: переводим с помощью компьютера / Хабр](https://habr.com/ru/articles/404061/)
	- Используется программа [OmegaT](https://omegat.org/ru/)
	- Используется плагин для темной темы
		- плагин - [OmegaT flat theme plugin](https://codeberg.org/miurahr/omegat-flat-theme)
		- тема - `dark purple`
	- Скачаны пакеты для проверки орфографии `ru_RU`, `en_US`, `en_GB`
	- Для дальнейшего изучения программы будет использоваться руководство на русском языке предложенное в статье
		- руководство - [OmegaT User Manual](https://omegat.sourceforge.io/manual-standard/)
		- Одна из проблем:
			- стандартная версия программы 4.3.3
			- современная версия программы 5.7.1
			- русская версия руководства 3.0
			- английская версия руководства 4.3.1 (то есть для стандартной, но не для последней)
	- Полезные ссылки у программы
		- [Документация - OmegaT](http://omegat.org/ru/documentation)
- Поиск англо - русского словаря для OmegaT
	- Качаю торрент, может быть получиться использовать
	- Нашёл интересный сайт https://academic.ru/
		- Здесь есть собрания множества словарей
		- Но я так и не смог узнать, как его скачать
	- Данный пункт откладывается на позже
- Словарь не нашёл 14

---
# 2023.06.12

- Для получения машинного перевода использую онлайн сервис `smartcat`
- Чтобы постоянно вручную не вставлять машинный перевод использовал приложение `autohotkey`
	- Обучение написанию скриптов на `autohotkey`
	- Скрипт работает
	- [[Скрипт для Autohotkey]]
- Машинный перевод не полный
	- Некоторое шаманство, чтобы сервис продолжил делать машинный перевод
	- Создание нового проекта с изменённым расширением
	- Создал новый проект, так как сервис делает теги. Но мне не нужно, чтобы сервис видел теги, поэтому я сделал новый проект с расширением файла `txt`
	- Приходится вручную с помощью скрипта заменять перевод блоков кода оригинальным содержанием

Т.е. блоки когда не должны быть переведены автоматически:

```haskell
ghci> nub [1,2,3,4,3,2,1,2,3,4,3,2,1]
[1,2,3,4]
ghci> nub "Lots of words and stuff"
"Lots fwrdanu"
```

---
# 2023.06.13

- Вручную замена для блоков кода, чтобы машинный перевод зря не тратился
- Работа скрипта по замене на машинный перевод
- Решил разбить перевод на главы, так как программа не справляется с одним большим файлом
- Вручную заменял блоки кода
	- Почти доделал, но вспомнил про следующий пункт
- Вспомнил, что в яндексе можно переводить документы
	- Перевёл файл txt в xlsx
	- Перевёл в Яндексе
	- Соединил 2 файла в 1
		- 1 столбец en-US
		- 2 столбец ru-RU
	- Конвертировал xlsx в tmx
		- Использовал онлайн конвертатор:
		- https://translatum.gr/cgi-bin/excel-to-tmx.pl
- Начал перевод в OmegaT 19:20-20:00

---
# 2023.06.15

- Решил немного оптимизировать файл машинного перевода, так как там было много пустых строк
- Сначала реши использовать nodejs
	- [[nodejs - зло]]
	- Можете не смотреть, так как не доделанное, но если нужно:
	- Но, задолбывшись, решил использовать `змею` (`python`)
	- Сначала использовал стандартную библиотеку [`xml.etree.ElementTree`](https://docs.python.org/3/library/xml.etree.elementtree.html)
	- Но она какая-то фиговая и были ошибки (Код не сохранился, так как писал в том же файле)
	- Поэтому установил библиотеку `beautifulsoup4` + парсер к ней `lxml`
		- [[py код оптимизации mdx]]
	- Итого 3280 пустых переводов удалено
	- Начальный файл:
		- Вес: 4865 КБ
		- Строк: 126998
	- Конечный файл:
		- Вес: 4079 КБ
		- Строк: 118508
	- Дельта:
		- Вес: -786 КБ
		- Строк:  -8490
- Запись отчета 10:20-10:40
- Заменил цвета в `OmegaT` с `0000FF` на `6E6EFF`
	- Слишком бились глаза (ничего не было видно)
- Исправление vscod'а 12:20-12:30

- установлен плагин для xml
	- https://open-vsx.org/extension/redhat/vscode-xml
- vscode любит создавать автоматические переносы
	- Но это портит форматирование
- Поэтому у меня сломалось форматирование в OmegaT
	- некоторые элементы не находились из за разрывов строк
- Пришлось прописать в конфигурации пользователя
	- `"xml.format.maxLineWidth": 0`
- Но обратно оно разрывы не убирает
- Поэтому пришлось пошаманить
	- Нажать `Ctrl + H`
	- Нажать `Ctrl + Enter`
	- Нажать `Ctrl + Alt + Enter`
	- Это заменяет все символы '\\n' на ''
	- Всё станет в одну строчку
	- Нажать `Ctrl + Alt + F` (или иную комбинацию для автоматического форматирования)
- Исправление структуры машинного перевода 12:30-14:30
	- Фрагменты нормально не ищутся, так как в OmegaT они разбиты на более маленькие, а в машинном переводе целые абзацы.
	- Промучавшись с Okapi Framework 2 часа (+ до этого смотрел его), решил ручками скопировать сегменты из OmegaT, в текстовый файл
- Создание корректного машинного перевода 14:30-19:10
	-  Ручками скопировал сегментированный текст в `txt`
	-  Конвертация txt в excel c помощью питона
		- теперь не нужен прошлый скрипт с оптимизацией mdx
	- [[py Конвертация txt в xlsx]]
	- Машинный перевод с помощью Яндекса
	- Потратил очень много времени, чтобы яндекс давал скачать файл (он его переводил, но не давал скачать)
	- В конце додумался скопировать текст из браузера в excel 
		- И это сработало
	- сконвертировал excel в tmx 
		- https://translatum.gr/cgi-bin/excel-to-tmx.pl
- Перевод Главы 1 19:40-20:45

---
# 2023.06.16

- Перевод четверти Главы 2 12:30-14:00

---
# 2023.06.17

- Перевод оставшегося в Главе 2 12:30-14:30

---
# 2023.06.18

- Перевод Главы 3 17:40-19:00
- Интересный факт: перевод книги сделали 11 лет назад...
	- Книга называется: "Изучай Haskell во имя добра"
	- Но, так или иначе, я закончу свой перевод
	- Так как эта книга не в свободном доступе

---