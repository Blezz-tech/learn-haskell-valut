## Производительность

Haskell может быть быстрым и потреблять мало памяти во многих сценариях, даже если вы используете неизменяемые структуры данных и неэффективный код.

Это хорошая идея, чтобы ваш код был идиоматичным и измерялся, прежде чем вы решите использовать мутацию и другие более причудливые методы. Вам это может не понадобиться!

### [](https://github.com/soupi/haskell-study-plan#resources)Ресурсы

#### [](https://github.com/soupi/haskell-study-plan#general)Общий

- [Введение](https://en.wikibooks.org/wiki/Haskell/Performance_introduction)
- [Высокопроизводительный Хаскель](https://www.slideshare.net/tibbe/highperformance-haskell)
- [Производительность (cs240h)](https://www.scs.stanford.edu/16wi-cs240h/slides/perf.html)

#### [](https://github.com/soupi/haskell-study-plan#profiling)Профилирование

- [Профилирование сборок с помощью стека](https://stackoverflow.com/questions/32123475/profiling-builds-with-stack)
- [Профилирование и оптимизация](http://book.realworldhaskell.org/read/profiling-and-optimization.html)
- [Утечки пространства в Haskell](https://slides.com/sumith1896/space-leaks-in-haskell) и [обнаружение утечек пространства](http://neilmitchell.blogspot.com/2015/09/detecting-space-leaks.html)
- [журнал событий2html](https://github.com/mpickering/eventlog2html)

#### [](https://github.com/soupi/haskell-study-plan#case-studies)Тематические исследования

- [Fast Haskell: конкуренция с C при разборе XML](https://chrisdone.com/posts/fast-haskell-c-parsing-xml/)
- [Перенос текстовых метрик на чистый Haskell](https://markkarpov.com/post/migrating-text-metrics.html)
- [О конкуренции с C с помощью Haskell](https://two-wrongs.com/on-competing-with-c-using-haskell.html)
- [wc — подсчет слов с помощью Haskell](https://github.com/ChrisPenner/wc)
- [Зима наступает еще быстрее](https://www.joachim-breitner.de/blog/758-Winter_is_coming_even_more_quickly)

### [](https://github.com/soupi/haskell-study-plan#data-structures)Структуры данных

Выбор структуры данных определяется свойствами ваших данных и используемыми алгоритмами.

Односвязные списки — довольно распространенная структура данных в Haskell. Из-за их простоты и синтаксического сахара они используются повсеместно — часто, когда они не являются хорошим выбором.

Списки хороши для:

1. Вам нужно только добавить или взять начало списка (consing), что составляет O (1)
2. Вы используете map, filter, zip и folds, которые в любом случае имеют значение O(N) и подлежат операции слияния (иначе.`map f . map g = map (f . g)`
3. Ваш список действительно мал, и ожидается, что он не будет расти.
4. Ваш список бесконечен

Списки не годятся, если:

1. Вы используете `lookup`- используйте`Map`
2. Вы хотите, чтобы элементы были уникальными - используйте`Set`
3. Вы ожидаете, что список будет иметь хотя бы один аргумент, используйте`NonEmpty`
4. Вы используете append или concat, используйте `DList`или`Seq`
5. Вы используете сортировку с неуникальными значениями, используйте`Seq`

- [Больше информации](http://dev.stephendiehl.com/hask/#data-structures)

## [](https://github.com/soupi/haskell-study-plan#monad-transformers)Преобразователи монад

### [](https://github.com/soupi/haskell-study-plan#overview-5)Обзор

Функторы и аппликативные интерфейсы [могут быть легко составлены](https://hackage.haskell.org/package/transformers-0.3.0.0/docs/Data-Functor-Compose.html) , но монады — нет.

Преобразователи монад - это способ объединить возможности монадического интерфейса нескольких типов в один тип.

- [Курс Haskell ИТМО на CTD - Лекция 7](http://slides.com/fp-ctd/lecture-7#)
- [Нежное введение в Monad Transformers](https://two-wrongs.com/a-gentle-introduction-to-monad-transformers)
- [Школа Haskell - Преобразователи монад](https://www.schoolofhaskell.com/user/commercial/content/monad-transformers)
- [mtl не является библиотекой преобразования монад](https://blog.jle.im/entry/mtl-is-not-a-monad-transformer-library.html)

### [](https://github.com/soupi/haskell-study-plan#exercises-5)Упражнения

- К вашему [калькулятору RPN](https://github.com/soupi/haskell-study-plan#rpn-calculator) REPL:
    - Используется `Either`для преждевременного прекращения вычисления выражения при обнаружении ошибок.
    - Добавьте `Reader`интерфейс для потоковой оценки встроенных операций.
    - Добавить возможность для пользователя определять новые слова (с синтаксисом: `: <word> <expressions>`)

## [](https://github.com/soupi/haskell-study-plan#ghc-language-extensions)Языковые расширения GHC

Haskell — стандартизированный язык программирования. Последний стандарт — [Haskell 2010](https://www.haskell.org/onlinereport/haskell2010/) . GHC, самый популярный компилятор Haskell, содержит больше функций, чем доступно в Haskell 2010. Чтобы использовать эти функции, мы должны сообщить компилятору, что мы хотим их использовать. Мы делаем это, вызывая флаг компилятора или добавляя `LANGUAGE`прагму в начало исходного файла.

- [Расширения Haskell в картинках](https://impurepics.com/posts/2019-08-01-haskell-extensions.html)
- [Руководство по расширениям GHC](https://limperg.de/ghc-extensions/)

## [](https://github.com/soupi/haskell-study-plan#functional-patterns)Функциональные шаблоны

### [](https://github.com/soupi/haskell-study-plan#effectful-outer-layer-uneffectful-core)Эффективный внешний слой, неэффективное ядро

Код, который не дает никаких эффектов, легче тестировать, отлаживать и анализировать.

Сохранение большей части логики нашей программы неэффективной делает ее более гибкой.

Но программам по-прежнему необходимо взаимодействовать с внешним миром.

Для этого мы можем создать внешний слой, отвечающий за взаимодействие с пользователем и отправку правильных логических функций.

Обратите внимание на этот шаблон в этих [основных примерах Haskell](http://www.haskellforall.com/2015/10/basic-haskell-examples.html) .

### [](https://github.com/soupi/haskell-study-plan#compose-smaller-things-to-bigger-things)Создавайте из маленьких вещей большие вещи

- [Комбинатор шаблон](https://wiki.haskell.org/Combinator_pattern)

### [](https://github.com/soupi/haskell-study-plan#type-classes-patterns)Шаблоны классов типов

`Monoid`Такие классы типов , как `Functor`, `Applicative`и , `Monad`можно рассматривать как шаблоны. Они окружают нас повсюду и лежат в основе API многих библиотек.

Вы можете найти их при веб-разработке, потоковой передаче, вводе-выводе, параллелизме, синтаксическом анализе, обработке ошибок, тестировании, сборке систем и многом другом.

Примеры:

- [Аппликативный анализ](https://kseo.github.io/posts/2014-01-16-applicative-parsing.html)
- [Lucid — DSL для написания HTML](https://hackage.haskell.org/package/lucid-2.9.10/docs/Lucid.html)
- [Программная транзакционная память](https://www.oreilly.com/library/view/parallel-and-concurrent/9781449335939/ch10.html)

### [](https://github.com/soupi/haskell-study-plan#parse-dont-validate)Разобрать, не проверять

- [Разобрать, не проверять](https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/)

### [](https://github.com/soupi/haskell-study-plan#more-1)Более

- [Шаблон проектирования ReaderT](https://www.fpcomplete.com/blog/2017/06/readert-design-pattern/)
- [Обсуждение на Реддите](https://www.reddit.com/r/haskell/comments/5r271m/haskell_design_patterns/)
- [Уильям Яо - Абстракции в контексте (книга)](https://gumroad.com/l/CLyzT)
- [Алгебра-ориентированный дизайн (книга)](https://algebradriven.design/)

## [](https://github.com/soupi/haskell-study-plan#more-2)Более

### [](https://github.com/soupi/haskell-study-plan#hands-on-tutorials)Практические руководства

- [The Simple Haskell Handbook — создание сервера непрерывной интеграции с нуля (книга)](https://marcosampellegrini.com/simple-haskell-book)
- [Потоковое сжатие Хаффмана в Haskell](https://blog.jle.im/entry/streaming-huffman-compression-in-haskell-part-1-trees)
- [Изучите Haskell, создав генератор блогов](https://github.com/soupi/learn-haskell-blog-generator)
- [OpenGL с использованием Haskell](https://lokathor.gitbooks.io/using-haskell/content/)
- [Компиляция Lisp в JavasScript с нуля в 350 LOC](https://gilmi.me/blog/post/2016/10/14/lisp-to-js)
- [Написать вам схему, версия 2](https://wespiser.com/writings/wyas/home.html)
- [Создание веб-сайта доски объявлений с помощью Скотти и друзей](https://gilmi.me/blog/post/2020/12/05/scotty-bulletin-board)

### [](https://github.com/soupi/haskell-study-plan#project-ideas)Идеи проекта

- Кодер/декодер азбуки Морзе
- Читатель файлов
- По сети игра камень-ножницы-бумага
- Калькулятор RPN
- Преобразователь уценки (подмножества) в HTML
- Близнецы сервер [_](https://gemini.circumlunar.space/)
- Печенье кликер
- Чат-сервер и клиент
- Сайт фотоальбома
- Клон pastebin
- игра тетрис
- Дискорд-бот

### [](https://github.com/soupi/haskell-study-plan#some-advanced-topics)Некоторые дополнительные темы

Они могут быть не так полезны для ваших повседневных задач программирования, но приятно знать, что они существуют, когда они вам нужны.

- [Интерфейс внешней функции](https://en.wikibooks.org/wiki/Haskell/FFI)
- [Общее программирование](https://chrisdone.com/posts/data-typeable)
- [Метапрограммирование с помощью шаблона Haskell](https://markkarpov.com/tutorial/th.html)
- [Введение в метапрограммирование классов типов](https://lexi-lambda.github.io/blog/2021/03/25/an-introduction-to-typeclass-metaprogramming)
- [Типичная система Haskell — основа](https://diogocastro.com/blog/2018/10/17/haskells-kind-system-a-primer/) для программирования на [базовом уровне типов](https://www.parsonsmatt.org/2017/04/26/basic_type_level_programming_in_haskell.html)
- [Схемы рекурсии](https://blog.sumtypeofway.com/an-introduction-to-recursion-schemes/)
- [Линзы](https://skillsmatter.com/skillscasts/4251-lenses-compositional-data-access-and-manipulation)

### [](https://github.com/soupi/haskell-study-plan#references)Рекомендации

- [Глоссарий операторов](https://haskell.fpcomplete.com/tutorial/operators)
- [Что бы я хотел знать, изучая Haskell](http://dev.stephendiehl.com/hask/)

### [](https://github.com/soupi/haskell-study-plan#news-aggregators)Агрегаторы новостей

- [Еженедельные новости Haskell](https://haskellweekly.news/)
- [Планетарий Хаскелла](https://haskell.pl-a.net/)

### [](https://github.com/soupi/haskell-study-plan#simple-example-programs)Простые примеры программ

- [Основные утилиты Unix в Haskell](https://anardil.net/tag/coreutils.html)
- [Простой читатель файлов](https://gist.github.com/soupi/199a16be6e2071c3b724)
- [Змеиная игра](https://gitlab.com/gilmi/sdl2-snake)
- [Упрощенный веб-интерфейс для cmus](https://gitlab.com/gilmi/sod-cmus)
- [Сервер изображений](https://gitlab.com/gilmi/imgs)
- [Минималистичный сайт для обмена ссылками](https://gitlab.com/gilmi/sharelinks)
- [Пользовательский интерфейс терминала для общения](https://github.com/jackoe/discourse-tui)
- [Система непрерывной интеграции](https://github.com/alpacaaa/quad-ci)

### [](https://github.com/soupi/haskell-study-plan#a-few-cool-open-source-applications)Несколько крутых приложений с открытым исходным кодом

Вот несколько классных приложений с открытым исходным кодом, написанных на Haskell, которые могут принять участие, если вы заинтересованы.

- [Aura](https://github.com/aurapm/aura/) — менеджер пакетов для Arch Linux и его AUR.
- [Bullin-App](https://gitlab.com/gilmi/bulletin-app) — приложение для веб-сайта доски объявлений, созданное с помощью Haskell и Скотти.
- [CodeWorld](https://github.com/google/codeworld) — CodeWorld — это образовательная среда, использующая Haskell.
- [gifcurry](https://lettier.github.io/gifcurry/) — ваш инструмент для создания видео с открытым исходным кодом в формате GIF, созданный с помощью Haskell.
- [Giml](https://giml-lang.org/) — функциональный язык программирования, созданный в прямом эфире.
- [Haskell-Poker](https://github.com/therewillbecode/haskell-poker) — покерный сайт, созданный на Haskell.
- [hledger](http://hledger.org/) - Дружественный, надежный бухгалтерский учет в виде простого текста.
- [Komposition](https://owickstrom.github.io/komposition) — видеоредактор, созданный для скринкастеров.
- [Matterhorn](https://github.com/matterhorn-chat/matterhorn) — терминальный клиент для чат-системы Mattermost.
- [Movie-Monad](https://github.com/lettier/movie-monad) — бесплатный и простой в использовании видеоплеер, созданный на Haskell.
- [нейрон](https://neuron.zettel.page/) — перспективное приложение командной строки для управления текстовыми заметками Зеттелькастена.
- [nyx-game](https://gilmi.me/nyx) — короткая адская игра, созданная на Haskell.
- [patat](https://github.com/jaspervdj/patat) — Презентации на основе терминала с использованием Pandoc.
- [postgrest](https://github.com/begriffs/postgrest) — REST API для любой базы данных Postgres.
- [PureScript](https://github.com/purescript/purescript) — строго типизированный язык, который компилируется в Javascript.
- [Project:m36](https://github.com/agentm/project-m36) — движок реляционной алгебры, вдохновленный работами Криса Дейта.
- [Taskell](https://taskell.app/) — Канбан-доска/управление задачами из командной строки.
- [termonad](https://github.com/cdepillabout/termonad) — эмулятор терминала, настраиваемый в Haskell.
- [Tidal](https://github.com/tidalcycles/Tidal) — язык для живого кодирования паттернов.